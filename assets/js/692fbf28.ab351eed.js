"use strict";(self.webpackChunkmomento_docs=self.webpackChunkmomento_docs||[]).push([[7521],{3905:(e,t,o)=>{o.d(t,{Zo:()=>p,kt:()=>h});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var c=n.createContext({}),s=function(e){var t=n.useContext(c),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),u=s(o),h=r,m=u["".concat(c,".").concat(h)]||u[h]||d[h]||i;return o?n.createElement(m,l(l({ref:t},p),{},{components:o})):n.createElement(m,l({ref:t},p))}));function h(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=o.length,l=new Array(i);l[0]=u;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:r,l[1]=a;for(var s=2;s<i;s++)l[s]=o[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,o)}u.displayName="MDXCreateElement"},5891:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>s});var n=o(7462),r=(o(7294),o(3905));const i={sidebar_position:10,sidebar_label:"CollectionTTL object",title:"CollectionTTL API reference",description:"Learn how to interact with the CollectionTTL object in Momento Cache."},l="CollectionTTL object API reference",a={unversionedId:"cache/develop/api-reference/collection-ttl",id:"cache/develop/api-reference/collection-ttl",title:"CollectionTTL API reference",description:"Learn how to interact with the CollectionTTL object in Momento Cache.",source:"@site/docs/cache/develop/api-reference/collection-ttl.md",sourceDirName:"cache/develop/api-reference",slug:"/cache/develop/api-reference/collection-ttl",permalink:"/cache/develop/api-reference/collection-ttl",draft:!1,editUrl:"https://github.com/momentohq/public-dev-docs/tree/main/docs/cache/develop/api-reference/collection-ttl.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,sidebar_label:"CollectionTTL object",title:"CollectionTTL API reference",description:"Learn how to interact with the CollectionTTL object in Momento Cache."},sidebar:"tutorialSidebar",previous:{title:"HTTP API",permalink:"/cache/develop/api-reference/http-api"},next:{title:"Response objects",permalink:"/cache/develop/api-reference/response-objects"}},c={},s=[{value:"Compatible data types",id:"compatible-data-types",level:2},{value:"Common method behaviors",id:"common-method-behaviors",level:2},{value:"Constructor parameters",id:"constructor-parameters",level:2},{value:"Additional constructors",id:"additional-constructors",level:2},{value:"Instance methods",id:"instance-methods",level:2}],p={toc:s};function d(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"collectionttl-object-api-reference"},"CollectionTTL object API reference"),(0,r.kt)("p",null,"This object is passed into API methods to say whether a TTL should be updated and if so, what the new TTL value should be."),(0,r.kt)("p",null,"This tries to make the process more intuitive by providing named constructors and copiers for various situations."),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"/cache/learn/how-it-works/expire-data-with-ttl"},"Expire Data with TTL")," for more information on how TTL works with Momento Cache."),(0,r.kt)("h2",{id:"compatible-data-types"},"Compatible data types"),(0,r.kt)("p",null,"The CollectionTTL object is compatible with the following data types ",(0,r.kt)("em",{parentName:"p"},"when performing write operations"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/cache/develop/api-reference/dictionary-collections"},"Dictionary")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/cache/develop/api-reference/list-collections"},"List")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/cache/develop/api-reference/set-collections"},"Set")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/cache/develop/api-reference/sorted-set-collections"},"Sorted Set"))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"You cannot provide a CollectionTTL object when performing a read operation like ",(0,r.kt)("inlineCode",{parentName:"p"},"dictionaryFetch")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"listLength"),". ")),(0,r.kt)("h2",{id:"common-method-behaviors"},"Common method behaviors"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If a CollectionTTL is not passed in a function call, a default value of ",(0,r.kt)("inlineCode",{parentName:"li"},"CollectionTtl.fromCacheTtl()")," will be used. This value is the TTL configured on the cache client. "),(0,r.kt)("li",{parentName:"ul"},"The TTL for the collection will be refreshed any time the collection is modified.")),(0,r.kt)("h2",{id:"constructor-parameters"},"Constructor parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ttl: duration - (optional)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If no TTL is given, the TTL set in the current client connection object is used."))),(0,r.kt)("li",{parentName:"ul"},"refreshTtl: boolean = true",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If set to true, the collection\u2019s TTL will be reset to the provided value."),(0,r.kt)("li",{parentName:"ul"},"If set to false, the existing TTL set on the item is retained.")))),(0,r.kt)("h2",{id:"additional-constructors"},"Additional constructors"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"fromCacheTtl(): CollectionTtl - uses the client\u2019s TTL, equivalent to ",(0,r.kt)("inlineCode",{parentName:"li"},"CollectionTtl(null, true)")),(0,r.kt)("li",{parentName:"ul"},"of(ttl: duration): CollectionTtl - equivalent to ",(0,r.kt)("inlineCode",{parentName:"li"},"CollectionTtl(ttl, true)")),(0,r.kt)("li",{parentName:"ul"},"refreshTtlIfProvided(ttl?: duration): CollectionTtl - if a value is provided, it will refresh the item's TTL. If no value is provided, it will not refresh the TTL.")),(0,r.kt)("h2",{id:"instance-methods"},"Instance methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ttlSeconds(): duration - Returns the TTL in seconds"),(0,r.kt)("li",{parentName:"ul"},"ttlMilliseconds(): duration - Returns the TTL in milliseconds"),(0,r.kt)("li",{parentName:"ul"},"refreshTtl(): boolean - Sets if the TTL should be refreshed when the item is modified"),(0,r.kt)("li",{parentName:"ul"},"withRefreshTtlOnUpdates(): CollectionTtl - a copy, but refresh is true"),(0,r.kt)("li",{parentName:"ul"},"withNoRefreshTtlOnUpdates(): CollectionTtl - a copy, but refresh is false"),(0,r.kt)("li",{parentName:"ul"},"toString(): displays the TTL in seconds and the refreshTtl configuration")))}d.isMDXComponent=!0}}]);